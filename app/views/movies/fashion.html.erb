<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>ãƒ•ã‚¡ãƒƒã‚·ãƒ§ãƒ³</title>
  <link rel="stylesheet" href="fashion.css">
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&display=swap" rel="stylesheet">

</head>

<div class="header2">

    <div class="row2">
     <h1 class="title2">fashionã€€snap</h1>
       <div class="home-menu">
        <button class="home-btn" aria-label="ãƒ›ãƒ¼ãƒ ã«ç§»å‹•">
         <i class="material-icons">menu</i>
        </button>
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <div class="home-content">
        ã€€ã€€<a href="<%= hello_path %>"> TOPãƒšãƒ¼ã‚¸</a>
            <a href="<%= movies_path %>"> æ˜ ç”»ä¸€è¦§</a>
            <a href="<%= movies_fashion_path %>">ãƒ•ã‚¡ãƒƒã‚·ãƒ§ãƒ³</a>
            <a href="#"> ãŠæ°—ã«å…¥ã‚Š</a>
            <a href="#"> ãŠçŸ¥ã‚‰ã›</a>
        </div>
       </div>
    </div>
</div>

<body>


  <main class="pinterest-gallery">
<div class="snap-card ãƒ‘ãƒ«ãƒ—ãƒ•ã‚£ã‚¯ã‚·ãƒ§ãƒ³" data-title="Pulp fiction">
  <button class="like-button">â¤ï¸ <span class="like-count">0</span></button>
</div>

<div class="snap-card ãƒ—ãƒªãƒ†ã‚£ã‚¦ãƒ¼ãƒãƒ³" data-title="Pretty Women"></div>
<div class="snap-card PoeticJustice" data-title="poetic justice"></div>
<div class="snap-card FearAndLoathingInLasVegas" data-title="Fear and Loathing in Las Vegas"></div>
<div class="snap-card TheMatrix" data-title="The Matrix"></div>
<div class="snap-card Clueless" data-title="Clueless"></div>
<div class="snap-card FightClub" data-title="Fight Club"></div>
<div class="snap-card Dazed-and-Confused" data-title="Dazed and Confused"></div>
<div class="snap-card The-Craft" data-title="The Craft"></div>
<div class="snap-card Juice" data-title="Juice"></div>
<div class="snap-card The-Doom-Generation" data-title="The-Doom-Generation"></div>
<div class="snap-card Girls-Town" data-title="Girls Town"></div>
<div class="snap-card ãƒ—ãƒ©ãƒ€ã‚’ç€ãŸæ‚ªé­”" data-title="ãƒ—ãƒ©ãƒ€ã‚’ç€ãŸæ‚ªé­”"></div>
<div class="snap-card mid90s" data-title="mid90s"></div>
<div class="snap-card snatch" data-title="snatch"></div>
<div class="snap-card skate-kitchen" data-title="skate kitchen"></div>
<div class="snap-card empire-records" data-title="empire records"></div>
<div class="snap-card Trainspotting" data-title="Trainspotting"></div>
<div class="snap-card ghost-world" data-title="ghost world"></div>
<div class="snap-card ã‚¨ã‚¤ãƒˆmile" data-title="8mile"></div>


  </main>
<script>
document.querySelectorAll('.like-button').forEach(button => {
  const card = button.closest('.snap-card');
  const key = 'like-' + card.classList[1]; // ä¾‹: like-tiffany
  const countSpan = button.querySelector('.like-count');
  
  // åˆæœŸå€¤ã®è¨­å®šï¼ˆãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‹ã‚‰ï¼‰
  let liked = localStorage.getItem(key) === 'true';
  let count = parseInt(localStorage.getItem(key + '-count')) || 0;
  
  if (liked) {
    button.classList.add('liked');
  }
  countSpan.textContent = count;

  button.addEventListener('click', () => {
    liked = !liked;
    button.classList.toggle('liked', liked);
    
    count += liked ? 1 : -1;
    count = Math.max(count, 0); // ãƒã‚¤ãƒŠã‚¹ã«ãªã‚‰ãªã„ã‚ˆã†ã«

    countSpan.textContent = count;

    // çŠ¶æ…‹ã‚’ä¿å­˜
    localStorage.setItem(key, liked);
    localStorage.setItem(key + '-count', count);
  });
});
</script>
<div id="like-ranking">
  <h2>ğŸ“ˆ äººæ°—ãƒ©ãƒ³ã‚­ãƒ³ã‚°</h2>
  <ol id="ranking-list"></ol>
</div>
<script>
function updateRanking() {
  const rankingList = document.getElementById('ranking-list');
  const cards = document.querySelectorAll('.snap-card');
  const cardData = [];

  cards.forEach(card => {
    const className = card.classList[1]; // ä¾‹: tiffany
    const key = 'like-' + className;
    const count = parseInt(localStorage.getItem(key + '-count')) || 0;
    const title = card.dataset.title;

    cardData.push({ title, count });
  });

  // ã„ã„ã­æ•°ãŒå¤šã„é †ã«ã‚½ãƒ¼ãƒˆ
  cardData.sort((a, b) => b.count - a.count);

  // è¡¨ç¤ºã‚’æ›´æ–°
  rankingList.innerHTML = '';
  cardData.slice(0, 5).forEach(item => {
    const li = document.createElement('li');
    li.textContent = `${item.title}ï¼ˆâ¤ï¸ ${item.count}ï¼‰`;
    rankingList.appendChild(li);
  });
}

// åˆå›è¡¨ç¤ºæ™‚
updateRanking();

// ã„ã„ã­ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ãŸã³ã«æ›´æ–°
document.querySelectorAll('.like-button').forEach(button => {
  button.addEventListener('click', updateRanking);
});
</script>
</body>
</html>

